â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BEAMCLEANING QUICK REFERENCE - Updated for New Structure   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ DIRECTORY OVERVIEW
â”œâ”€â”€ 0/          â†’ Boundary conditions
â”œâ”€â”€ constant/   â†’ Physics + STL geometries
â”œâ”€â”€ system/     â†’ OpenFOAM config
â”œâ”€â”€ scripts/    â†’ All executables â­
â”œâ”€â”€ docs/       â†’ All documentation â­
â”œâ”€â”€ logs/       â†’ Auto-generated logs
â””â”€â”€ README.md   â†’ Start here!

ğŸš€ COMMON COMMANDS

Local:
  scripts/Allclean              Clean old files
  scripts/Allrun.mesh           Generate mesh (1-4 hours)
  scripts/Allrun.solver         Run solver (serial)
  scripts/verify_config.sh      Check configuration
  paraFoam                      Visualize results

HPC:
  sbatch scripts/submit_mesh.slurm     Submit mesh job
  sbatch scripts/submit_solver.slurm   Submit solver job
  squeue -u $USER                      Check job status
  tail -f logs/mesh_*.out              Monitor mesh
  tail -f logs/solver_*.out            Monitor solver

ğŸ“ BEFORE HPC TRANSFER

1. scripts/Allclean
2. Edit scripts/submit_mesh.slurm (line 35)
3. Edit scripts/submit_solver.slurm (line 27)
4. scripts/verify_config.sh
5. rsync -avz BeamCleaning/ user@hpc:~/

ğŸ”§ CONFIGURATION FILES

Mesh:
  system/blockMeshDict          Background mesh (100Ã—170Ã—100)
  system/snappyHexMeshDict      Refinement (levels 5-6)
  system/surfaceFeaturesDict    Feature extraction

Solver:
  system/controlDict            Iterations, time control
  system/fvSchemes              Numerical schemes
  system/fvSolution             Linear solvers, relaxation

Boundaries:
  0/p       Pressure (482.6 kPa inlet, 101.325 kPa outlets)
  0/U       Velocity (zeroGradient, noSlip, pressureInletOutlet)
  0/T       Temperature (300K everywhere)
  0/k       Turbulent kinetic energy
  0/epsilon Turbulent dissipation
  0/nut     Turbulent viscosity

ğŸ¯ SIMULATION SPECS

Solver:    rhoSimpleFoam (compressible, steady-state)
Turbulence: k-epsilon RANS
Inlet:     70 psi (4.83 bar) (nozzleInlet)
Outlets:   1 atm (beamHoles, enclosure, openings)
Mesh:      ~6-7M cells with enclosure
Runtime:   3-5 hours (mesh), 12-24 hours (solver)

ğŸ“š DOCUMENTATION

Quick Start:
  README.md                Main overview & directory structure
  docs/HPC_GUIDE.md        Complete HPC guide (START HERE!)

Technical:
  docs/TECHNICAL_REFERENCE.md   Geometry specs, OpenFOAM details
  QUICK_REFERENCE.txt           This file - command cheat sheet

ğŸ†˜ TROUBLESHOOTING

Mesh fails:
  â†’ Check logs/mesh_*/log.snappyHexMesh
  â†’ Increase memory: scripts/submit_mesh.slurm line 7
  â†’ Increase time: scripts/submit_mesh.slurm line 8

Module not found:
  â†’ Fix scripts/submit_mesh.slurm line 35
  â†’ Run on HPC: module avail openfoam

Enclosure missing:
  â†’ After mesh: cat constant/polyMesh/boundary | grep enclosure
  â†’ Check logs/mesh_*/log.snappyHexMesh

Solver diverges:
  â†’ Reduce relaxation: system/fvSolution
  â†’ Check mesh quality: checkMesh
  â†’ More stable schemes: system/fvSchemes

âš ï¸  KNOWN ISSUES

â€¢ Geometry has 32 holes (need 54 at 60mm spacing)
  â†’ Non-blocking, can fix after enclosure verification
â€¢ Enclosure config untested (never meshed with it)
  â†’ Low risk, will validate on first HPC run

âœ… STATUS: Ready for HPC transfer!

Run scripts/verify_config.sh to confirm.
